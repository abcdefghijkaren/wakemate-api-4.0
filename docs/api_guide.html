<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Wakemate API 使用教學</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; background: #f9f9f9; }
    h1, h2, h3 { color: #333; }
    pre { background: #272822; color: #f8f8f2; padding: 10px; border-radius: 5px; overflow-x: auto; }
    code { font-family: monospace; }
    .endpoint { background: #fff; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    button { background: #007BFF; color: white; border: none; padding: 5px 10px; margin-top: 5px; border-radius: 4px; cursor: pointer; }
    button:hover { background: #0056b3; }
  </style>
  <script>
    function copyToClipboard(id) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("已複製到剪貼簿！");
      });
    }
  </script>
</head>
<body>
  <h1>Wakemate API 使用教學-2025/09/19-19:35更</h1>
  <p>API 文件: <a href="https://wakemate-api-4-0.onrender.com/docs#/" target="_blank">Swagger Docs</a></p>
  <p>在Step1複製完自己的user_id後，從Step2開始測試！</p>
  <p>自己編輯JSON的內容再貼上各對應端口(連結中的各個POST)。</p>
  <p>或是自己編輯curl的內容跑程式也可以傳送。</p>
  <p>⚠️ 如果回傳 <b>200 / 201</b> → 成功<br>
     如果回傳 <b>422 / 400</b> → 請檢查 JSON 格式或參數</p>

  <!-- STEP 1 -->
  <div class="endpoint">
    <h2>STEP 1: 註冊使用者 (POST /register_user)，我已經先幫大家註冊好了，請跳過此步驟，但一定要複製以下user_id來傳送其他數據！</h2>
    <p>建立新使用者帳號。看到成功，也就是網頁中Server response顯示Code: 200，Response body會顯示每個帳號專屬的user_id，之後的每一步都要把user_id改成自己的。</p>
    <p>為求快速方便，我已經建好每個人的測試帳號。</p>
    <p>請在傳送其他數據時直接貼上user_id欄位就好。</p>

    <h3>📌 測試用 user_id：</h3>
    <p>000-王凱琳</p>
    <pre id="uid1">b78bf44b-b0d2-4e5f-a7fb-bd5ea7879647</pre>
    <button onclick="copyToClipboard('uid1')">複製 user_id</button>

    <p>001-蔣靜盈</p>
    <pre id="uid2">91759921-ed19-4d90-a13a-b8b7c1546239</pre>
    <button onclick="copyToClipboard('uid2')">複製 user_id</button>

    <p>002-周思廷</p>
    <pre id="uid3">8e3cf09f-ba4d-4a8c-a861-8e86831f071e</pre>
    <button onclick="copyToClipboard('uid3')">複製 user_id</button>

    <p>003-陳永祥</p>
    <pre id="uid4">e81f7758-a144-4efb-80ef-d807eae2671f</pre>
    <button onclick="copyToClipboard('uid4')">複製 user_id</button>

    <h3>---測試註冊，先跳過不用自己註冊---</h3>
    <h3>測試 JSON</h3>
    <pre id="json1">{
  "name": "王凱琳",
  "email": "test000@example.com",
  "password": "StrongPass000!"
}</pre>
    <button onclick="copyToClipboard('json1')">📋 複製 JSON</button>

    <h3>curl 測試</h3>
    <pre id="curl1">curl -X POST https://wakemate-api-4-0.onrender.com/register_user \
-H "Content-Type: application/json" \
-d '{
  "name": "王凱琳",
  "email": "test000@example.com",
  "password": "StrongPass000!"
}'</pre>
    <button onclick="copyToClipboard('curl1')">📋 複製 curl</button>
  </div>


  <!-- STEP 2 -->
  <div class="endpoint">
    <h2>STEP 2: 睡眠時段紀錄/設定 (POST /users_sleep/)</h2>
    <p>新增使用者的睡眠時間區段。</p>
    <p>start_time是開始睡覺的時間點，end_time是起床的時間點。end_time要比start_time晚，不要搞錯囉</p>
    <pre id="json2">{
  "user_id": "3e862ece-2850-4856-a8f0-01479a3a556d",
  "sleep_start_time": "2025-08-13T23:00:00+08:00",
  "sleep_end_time": "2025-08-14T06:00:00+08:00"
}</pre>
    <button onclick="copyToClipboard('json2')">📋 複製 JSON</button>

    <pre id="curl2">curl -X POST https://wakemate-api-4-0.onrender.com/users_sleep/ \
-H "Content-Type: application/json" \
-d '{
  "user_id": "3e862ece-2850-4856-a8f0-01479a3a556d",
  "sleep_start_time": "2025-08-13T23:00:00+08:00",
  "sleep_end_time": "2025-08-14T06:00:00+08:00"
}'</pre>
    <button onclick="copyToClipboard('curl2')">📋 複製 curl</button>
  </div>

  <!-- STEP 3 -->
  <div class="endpoint">
    <h2>STEP 3: 目標清醒時段設定 (POST /users_wake/)</h2>
    <p>設定使用者目標清醒時段。</p>
    <p>target_start_time是"開始"要保持清醒的時間點，target_end_time是目標清醒"結束"的時間點。target_end_time要比target_start_time晚，不要搞錯囉</p>
    <pre id="json3">{
  "user_id": "3e862ece-2850-4856-a8f0-01479a3a556d",
  "target_start_time": "2025-08-15T08:00:00+08:00",
  "target_end_time": "2025-08-15T17:00:00+08:00"
}</pre>
    <button onclick="copyToClipboard('json3')">📋 複製 JSON</button>

    <pre id="curl3">curl -X POST https://wakemate-api-4-0.onrender.com/users_wake/ \
-H "Content-Type: application/json" \
-d '{
  "user_id": "3e862ece-2850-4856-a8f0-01479a3a556d",
  "target_start_time": "2025-08-15T08:00:00+08:00",
  "target_end_time": "2025-08-15T17:00:00+08:00"
}'</pre>
    <button onclick="copyToClipboard('curl3')">📋 複製 curl</button>
  </div>

  <!-- STEP 4 -->
  <div class="endpoint">
    <h2>STEP 4: 咖啡因攝取紀錄 (POST /users_intake/)</h2>
    <p>新增使用者的飲品與咖啡因攝取紀錄。</p>
    <p>drink_name可自己打，中英文都可，要注意caffeine_amount的單位是毫克(mg)喔</p>
    <pre id="json4">{
  "user_id": "3e862ece-2850-4856-a8f0-01479a3a556d",
  "drink_name": "Espresso",
  "caffeine_amount": 70,
  "taking_timestamp": "2025-08-15T08:00:00+08:00"
}</pre>
    <button onclick="copyToClipboard('json4')">📋 複製 JSON</button>

    <pre id="curl4">curl -X POST https://wakemate-api-4-0.onrender.com/users_intake/ \
-H "Content-Type: application/json" \
-d '{
  "user_id": "3e862ece-2850-4856-a8f0-01479a3a556d",
  "drink_name": "Espresso",
  "caffeine_amount": 70,
  "taking_timestamp": "2025-08-15T08:00:00+08:00"
}'</pre>
    <button onclick="copyToClipboard('curl4')">📋 複製 curl</button>
  </div>

  <!-- STEP 5 -->
  <div class="endpoint">
    <h2>STEP 5: PVT 與 KSS level 紀錄 (POST /users_pvt/)</h2>
    <p>新增使用者的 PVT 測驗數據與 KSS 睡意等級紀錄。</p>
    <ul>
      <li><b>user_id</b>：使用者的唯一識別碼（從 Step 1 複製）</li>
      <li><b>mean_rt</b>：平均反應時間 (ms)</li>
      <li><b>lapses</b>：注意力失誤次數</li>
      <li><b>false_starts</b>：過早反應次數</li>
      <li><b>test_at</b>：測試完成時間 (ISO 8601 格式)</li>
      <li><b>device</b>：測試裝置資訊（字串描述）</li>
      <li><b>kss_level</b>：KSS 睡意等級 (1–9)</li>
    </ul>

    <h3>KSS level 說明</h3>
    <ol>
      <li>極度警醒（Extremely alert）</li>
      <li>非常警醒（Very alert）</li>
      <li>警醒（Alert）</li>
      <li>比較警醒（Rather alert）</li>
      <li>不太警醒但也無睏意（Neither alert nor sleepy）</li>
      <li>有一些睏意傾向（Some signs of sleepiness）</li>
      <li>有睏意，但是不需要努力保持清醒（Sleepy, but no effort to keep alert）</li>
      <li>有睏意，且需要一定的努力保持清醒（Sleepy, some effort to keep alert）</li>
      <li>非常睏倦，需要極大的努力保持清醒（Very sleepy, great effort to keep alert, fighting sleep）</li>
    </ol>

    <h3>範例 JSON</h3>
    <pre id="json5">{
  "user_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "mean_rt": 0,
  "lapses": 0,
  "false_starts": 0,
  "test_at": "2025-09-19T11:28:58.476Z",
  "device": "string",
  "kss_level": 5
}</pre>
    <button onclick="copyToClipboard('json5')">📋 複製 JSON</button>

    <h3>curl 測試</h3>
    <pre id="curl5">curl -X POST https://wakemate-api-4-0.onrender.com/users_pvt/ \
-H "Content-Type: application/json" \
-d '{
  "user_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "mean_rt": 0,
  "lapses": 0,
  "false_starts": 0,
  "test_at": "2025-09-19T11:28:58.476Z",
  "device": "string",
  "kss_level": 5
}'</pre>
    <button onclick="copyToClipboard('curl5')">📋 複製 curl</button>
  </div>


</body>
</html>